import{s as safe_not_equal,c as component_subscribe,o as onMount,n as noop,d as create_slot,u as update_slot_base,g as get_all_dirty_from_scope,e as get_slot_changes}from "../chunks/scheduler.b0c1c2c3.js";import{S as SvelteComponent,i as init$1,g as element,s as space,e as empty,h as claim_element,x as get_svelte_dataset,c as claim_space,a as insert_hydration,t as transition_out,b as check_outros,d as transition_in,f as detach,p as group_outros,y as listen}from "../chunks/index.98e933d3.js";import{p as profile,t as token}from "../chunks/stores.12b31574.js";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length; i<len; ++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.indexOf("=");l===-1&&(l=e);var a=l===e?0:4-l%4;return[l,a]}function byteLength(t){var e=getLens(t),l=e[0],a=e[1];return(l+a)*3/4-a}function _byteLength(t, e, l){return(e+l)*3/4-l}function toByteArray(t){var e,l=getLens(t),a=l[0],d=l[1],n=new Arr(_byteLength(t,a,d)),k=0,c=d>0?a-4:a,m;for(m=0; m<c; m+=4)e=revLookup[t.charCodeAt(m)]<<18|revLookup[t.charCodeAt(m+1)]<<12|revLookup[t.charCodeAt(m+2)]<<6|revLookup[t.charCodeAt(m+3)],n[k++]=e>>16&255,n[k++]=e>>8&255,n[k++]=e&255;return d===2&&(e=revLookup[t.charCodeAt(m)]<<2|revLookup[t.charCodeAt(m+1)]>>4,n[k++]=e&255),d===1&&(e=revLookup[t.charCodeAt(m)]<<10|revLookup[t.charCodeAt(m+1)]<<4|revLookup[t.charCodeAt(m+2)]>>2,n[k++]=e>>8&255,n[k++]=e&255),n}function tripletToBase64(t){return lookup[t>>18&63]+lookup[t>>12&63]+lookup[t>>6&63]+lookup[t&63]}function encodeChunk(t, e, l){for(var a,d=[],n=e; n<l; n+=3)a=(t[n]<<16&16711680)+(t[n+1]<<8&65280)+(t[n+2]&255),d.push(tripletToBase64(a));return d.join("")}function fromByteArray(t){for(var e,l=t.length,a=l%3,d=[],n=16383,k=0,c=l-a; k<c; k+=n)d.push(encodeChunk(t,k,k+n>c?c:k+n));return a===1?(e=t[l-1],d.push(lookup[e>>2]+lookup[e<<4&63]+"==")):a===2&&(e=(t[l-2]<<8)+t[l-1],d.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),d.join("")}var sha256$1={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return typeof t=="object"&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(l){return new Sha256(e,!0).update(l)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(d){return e.create().update(d)};for(var l=0;l<OUTPUT_TYPES.length;++l){var a=OUTPUT_TYPES[l];e[a]=createOutputMethod(a,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if(typeof t=="string")return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(t==null)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(l,a){return new HmacSha256(l,e,!0).update(a)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(d){return new HmacSha256(d,t)},e.update=function(d,n){return e.create(d).update(n)};for(var l=0;l<OUTPUT_TYPES.length;++l){var a=OUTPUT_TYPES[l];e[a]=createHmacOutputMethod(a,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}Sha256.prototype.update=function(t){if(!this.finalized){var e,l=typeof t;if(l!=="string"){if(l==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var a,d=0,n,k=t.length,c=this.blocks;d<k;){if(this.hashed&&(this.hashed=!1,c[0]=this.block,c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),e)for(n=this.start;d<k&&n<64;++d)c[n>>2]|=t[d]<<SHIFT[n++&3];else for(n=this.start;d<k&&n<64;++d)a=t.charCodeAt(d),a<128?c[n>>2]|=a<<SHIFT[n++&3]:a<2048?(c[n>>2]|=(192|a>>6)<<SHIFT[n++&3],c[n>>2]|=(128|a&63)<<SHIFT[n++&3]):a<55296||a>=57344?(c[n>>2]|=(224|a>>12)<<SHIFT[n++&3],c[n>>2]|=(128|a>>6&63)<<SHIFT[n++&3],c[n>>2]|=(128|a&63)<<SHIFT[n++&3]):(a=65536+((a&1023)<<10|t.charCodeAt(++d)&1023),c[n>>2]|=(240|a>>18)<<SHIFT[n++&3],c[n>>2]|=(128|a>>12&63)<<SHIFT[n++&3],c[n>>2]|=(128|a>>6&63)<<SHIFT[n++&3],c[n>>2]|=(128|a&63)<<SHIFT[n++&3]);this.lastByteIndex=n,this.bytes+=n-this.start,n>=64?(this.block=c[16],this.start=n-64,this.hash(),this.hashed=!0):this.start=n}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t=this.h0,e=this.h1,l=this.h2,a=this.h3,d=this.h4,n=this.h5,k=this.h6,c=this.h7,m=this.blocks,g,A,w,H,S,U,T,R,P,C,M;for(g=16;g<64;++g)S=m[g-15],A=(S>>>7|S<<25)^(S>>>18|S<<14)^S>>>3,S=m[g-2],w=(S>>>17|S<<15)^(S>>>19|S<<13)^S>>>10,m[g]=m[g-16]+A+m[g-7]+w<<0;for(M=e&l,g=0;g<64;g+=4)this.first?(this.is224?(R=300032,S=m[0]-1413257819,c=S-150054599<<0,a=S+24177077<<0):(R=704751109,S=m[0]-210244248,c=S-1521486534<<0,a=S+143694565<<0),this.first=!1):(A=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),w=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7),R=t&e,H=R^t&l^M,T=d&n^~d&k,S=c+w+T+K[g]+m[g],U=A+H,c=a+S<<0,a=S+U<<0),A=(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10),w=(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7),P=a&t,H=P^a&e^R,T=c&d^~c&n,S=k+w+T+K[g+1]+m[g+1],U=A+H,k=l+S<<0,l=S+U<<0,A=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),w=(k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7),C=l&a,H=C^l&t^P,T=k&c^~k&d,S=n+w+T+K[g+2]+m[g+2],U=A+H,n=e+S<<0,e=S+U<<0,A=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),w=(n>>>6|n<<26)^(n>>>11|n<<21)^(n>>>25|n<<7),M=e&l,H=M^e&a^C,T=n&k^~n&c,S=d+w+T+K[g+3]+m[g+3],U=A+H,d=t+S<<0,t=S+U<<0;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+l<<0,this.h3=this.h3+a<<0,this.h4=this.h4+d<<0,this.h5=this.h5+n<<0,this.h6=this.h6+k<<0,this.h7=this.h7+c<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,l=this.h2,a=this.h3,d=this.h4,n=this.h5,k=this.h6,c=this.h7,m=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[l>>28&15]+HEX_CHARS[l>>24&15]+HEX_CHARS[l>>20&15]+HEX_CHARS[l>>16&15]+HEX_CHARS[l>>12&15]+HEX_CHARS[l>>8&15]+HEX_CHARS[l>>4&15]+HEX_CHARS[l&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15]+HEX_CHARS[d>>28&15]+HEX_CHARS[d>>24&15]+HEX_CHARS[d>>20&15]+HEX_CHARS[d>>16&15]+HEX_CHARS[d>>12&15]+HEX_CHARS[d>>8&15]+HEX_CHARS[d>>4&15]+HEX_CHARS[d&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[k>>28&15]+HEX_CHARS[k>>24&15]+HEX_CHARS[k>>20&15]+HEX_CHARS[k>>16&15]+HEX_CHARS[k>>12&15]+HEX_CHARS[k>>8&15]+HEX_CHARS[k>>4&15]+HEX_CHARS[k&15];return this.is224||(m+=HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[c&15]),m},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,l=this.h2,a=this.h3,d=this.h4,n=this.h5,k=this.h6,c=this.h7,m=[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,l>>24&255,l>>16&255,l>>8&255,l&255,a>>24&255,a>>16&255,a>>8&255,a&255,d>>24&255,d>>16&255,d>>8&255,d&255,n>>24&255,n>>16&255,n>>8&255,n&255,k>>24&255,k>>16&255,k>>8&255,k&255];return this.is224||m.push(c>>24&255,c>>16&255,c>>8&255,c&255),m},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t};function HmacSha256(t,e,l){var a,d=typeof t;if(d==="string"){var n=[],k=t.length,c=0,m;for(a=0;a<k;++a)m=t.charCodeAt(a),m<128?n[c++]=m:m<2048?(n[c++]=192|m>>6,n[c++]=128|m&63):m<55296||m>=57344?(n[c++]=224|m>>12,n[c++]=128|m>>6&63,n[c++]=128|m&63):(m=65536+((m&1023)<<10|t.charCodeAt(++a)&1023),n[c++]=240|m>>18,n[c++]=128|m>>12&63,n[c++]=128|m>>6&63,n[c++]=128|m&63);t=n}else if(d==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);t.length>64&&(t=new Sha256(e,!0).update(t).array());var g=[],A=[];for(a=0;a<64;++a){var w=t[a]||0;g[a]=92^w,A[a]=54^w}Sha256.call(this,e,l),this.update(A),this.oKeyPad=g,this.inner=!0,this.sharedMemory=l}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256$1);var sha256Exports=sha256$1.exports;const sha256=getDefaultExportFromCjs(sha256Exports);if(typeof Promise>"u")throw Error("Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.");function Keycloak(t){if(!(this instanceof Keycloak))throw new Error("The 'Keycloak' constructor must be invoked with 'new'.");for(var e=this,l,a=[],d,n={enable:!0,callbackList:[],interval:5},k=document.getElementsByTagName("script"),c=0;c<k.length;c++)(k[c].src.indexOf("keycloak.js")!==-1||k[c].src.indexOf("keycloak.min.js")!==-1)&&k[c].src.indexOf("version=")!==-1&&(e.iframeVersion=k[c].src.substring(k[c].src.indexOf("version=")+8).split("&")[0]);var m=!0,g=G(console.info),A=G(console.warn);e.init=function(r){if(e.didInitialize)throw new Error("A 'Keycloak' instance can only be initialized once.");e.didInitialize=!0,e.authenticated=!1,d=re();var o=["default","cordova","cordova-native"];if(r&&o.indexOf(r.adapter)>-1?l=z(r.adapter):r&&typeof r.adapter=="object"?l=r.adapter:window.Cordova||window.cordova?l=z("cordova"):l=z(),r){if(typeof r.useNonce<"u"&&(m=r.useNonce),typeof r.checkLoginIframe<"u"&&(n.enable=r.checkLoginIframe),r.checkLoginIframeInterval&&(n.interval=r.checkLoginIframeInterval),r.onLoad==="login-required"&&(e.loginRequired=!0),r.responseMode)if(r.responseMode==="query"||r.responseMode==="fragment")e.responseMode=r.responseMode;else throw"Invalid value for responseMode";if(r.flow){switch(r.flow){case"standard":e.responseType="code";break;case"implicit":e.responseType="id_token token";break;case"hybrid":e.responseType="code id_token token";break;default:throw"Invalid value for flow"}e.flow=r.flow}if(r.timeSkew!=null&&(e.timeSkew=r.timeSkew),r.redirectUri&&(e.redirectUri=r.redirectUri),r.silentCheckSsoRedirectUri&&(e.silentCheckSsoRedirectUri=r.silentCheckSsoRedirectUri),typeof r.silentCheckSsoFallback=="boolean"?e.silentCheckSsoFallback=r.silentCheckSsoFallback:e.silentCheckSsoFallback=!0,r.pkceMethod){if(r.pkceMethod!=="S256")throw"Invalid value for pkceMethod";e.pkceMethod=r.pkceMethod}typeof r.enableLogging=="boolean"?e.enableLogging=r.enableLogging:e.enableLogging=!1,typeof r.scope=="string"&&(e.scope=r.scope),typeof r.messageReceiveTimeout=="number"&&r.messageReceiveTimeout>0?e.messageReceiveTimeout=r.messageReceiveTimeout:e.messageReceiveTimeout=1e4}e.responseMode||(e.responseMode="fragment"),e.responseType||(e.responseType="code",e.flow="standard");var u=F(),p=F();p.promise.then(function(){e.onReady&&e.onReady(e.authenticated),u.setSuccess(e.authenticated)}).catch(function(x){u.setError(x)});var s=M();function v(){var x=function(y){y||(b.prompt="none"),r&&r.locale&&(b.locale=r.locale),e.login(b).then(function(){p.setSuccess()}).catch(function(I){p.setError(I)})},_=function(){var y=document.createElement("iframe"),I=e.createLoginUrl({prompt:"none",redirectUri:e.silentCheckSsoRedirectUri});y.setAttribute("src",I),y.setAttribute("sandbox","allow-scripts allow-same-origin"),y.setAttribute("title","keycloak-silent-check-sso"),y.style.display="none",document.body.appendChild(y);var L=function(E){if(!(E.origin!==window.location.origin||y.contentWindow!==E.source)){var O=X(E.data);C(O,p),document.body.removeChild(y),window.removeEventListener("message",L)}};window.addEventListener("message",L)},b={};switch(r.onLoad){case"check-sso":n.enable?D().then(function(){B().then(function(y){y?p.setSuccess():e.silentCheckSsoRedirectUri?_():x(!1)}).catch(function(y){p.setError(y)})}):e.silentCheckSsoRedirectUri?_():x(!1);break;case"login-required":x(!0);break;default:throw"Invalid value for onLoad"}}function f(){var x=X(window.location.href);if(x&&window.history.replaceState(window.history.state,null,x.newUrl),x&&x.valid)return D().then(function(){C(x,p)}).catch(function(_){p.setError(_)});r?r.token&&r.refreshToken?(N(r.token,r.refreshToken,r.idToken),n.enable?D().then(function(){B().then(function(_){_?(e.onAuthSuccess&&e.onAuthSuccess(),p.setSuccess(),J()):p.setSuccess()}).catch(function(_){p.setError(_)})}):e.updateToken(-1).then(function(){e.onAuthSuccess&&e.onAuthSuccess(),p.setSuccess()}).catch(function(_){e.onAuthError&&e.onAuthError(),r.onLoad?v():p.setError(_)})):r.onLoad?v():p.setSuccess():p.setSuccess()}function h(){var x=F(),_=function(){(document.readyState==="interactive"||document.readyState==="complete")&&(document.removeEventListener("readystatechange",_),x.setSuccess())};return document.addEventListener("readystatechange",_),_(),x.promise}return s.then(function(){h().then(ee).then(f).catch(function(x){u.setError(x)})}),s.catch(function(x){u.setError(x)}),u.promise},e.login=function(r){return l.login(r)};function w(r){var o=null,u=window.crypto||window.msCrypto;if(u&&u.getRandomValues&&window.Uint8Array)return o=new Uint8Array(r),u.getRandomValues(o),o;o=new Array(r);for(var p=0;p<o.length;p++)o[p]=Math.floor(256*Math.random());return o}function H(r){return S(r,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}function S(r,o){for(var u=w(r),p=new Array(r),s=0;s<r;s++)p[s]=o.charCodeAt(u[s]%o.length);return String.fromCharCode.apply(null,p)}function U(r,o){switch(r){case"S256":var u=new Uint8Array(sha256.arrayBuffer(o)),p=base64Js.fromByteArray(u).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"");return p;default:throw"Invalid value for pkceMethod"}}function T(r){var o={id_token:{acr:r}};return JSON.stringify(o)}e.createLoginUrl=function(r){var o=q(),u=q(),p=l.redirectUri(r),s={state:o,nonce:u,redirectUri:encodeURIComponent(p)};r&&r.prompt&&(s.prompt=r.prompt);var v;r&&r.action=="register"?v=e.endpoints.register():v=e.endpoints.authorize();var f=r&&r.scope||e.scope;f?f.indexOf("openid")===-1&&(f="openid "+f):f="openid";var h=v+"?client_id="+encodeURIComponent(e.clientId)+"&redirect_uri="+encodeURIComponent(p)+"&state="+encodeURIComponent(o)+"&response_mode="+encodeURIComponent(e.responseMode)+"&response_type="+encodeURIComponent(e.responseType)+"&scope="+encodeURIComponent(f);if(m&&(h=h+"&nonce="+encodeURIComponent(u)),r&&r.prompt&&(h+="&prompt="+encodeURIComponent(r.prompt)),r&&r.maxAge&&(h+="&max_age="+encodeURIComponent(r.maxAge)),r&&r.loginHint&&(h+="&login_hint="+encodeURIComponent(r.loginHint)),r&&r.idpHint&&(h+="&kc_idp_hint="+encodeURIComponent(r.idpHint)),r&&r.action&&r.action!="register"&&(h+="&kc_action="+encodeURIComponent(r.action)),r&&r.locale&&(h+="&ui_locales="+encodeURIComponent(r.locale)),r&&r.acr){var x=T(r.acr);h+="&claims="+encodeURIComponent(x)}if(e.pkceMethod){var _=H(96);s.pkceCodeVerifier=_;var b=U(e.pkceMethod,_);h+="&code_challenge="+b,h+="&code_challenge_method="+e.pkceMethod}return d.add(s),h},e.logout=function(r){return l.logout(r)},e.createLogoutUrl=function(r){var o=e.endpoints.logout()+"?client_id="+encodeURIComponent(e.clientId)+"&post_logout_redirect_uri="+encodeURIComponent(l.redirectUri(r,!1));return e.idToken&&(o+="&id_token_hint="+encodeURIComponent(e.idToken)),o},e.register=function(r){return l.register(r)},e.createRegisterUrl=function(r){return r||(r={}),r.action="register",e.createLoginUrl(r)},e.createAccountUrl=function(r){var o=R(),u=void 0;return typeof o<"u"&&(u=o+"/account?referrer="+encodeURIComponent(e.clientId)+"&referrer_uri="+encodeURIComponent(l.redirectUri(r))),u},e.accountManagement=function(){return l.accountManagement()},e.hasRealmRole=function(r){var o=e.realmAccess;return!!o&&o.roles.indexOf(r)>=0},e.hasResourceRole=function(r,o){if(!e.resourceAccess)return!1;var u=e.resourceAccess[o||e.clientId];return!!u&&u.roles.indexOf(r)>=0},e.loadUserProfile=function(){var r=R()+"/account",o=new XMLHttpRequest;o.open("GET",r,!0),o.setRequestHeader("Accept","application/json"),o.setRequestHeader("Authorization","bearer "+e.token);var u=F();return o.onreadystatechange=function(){o.readyState==4&&(o.status==200?(e.profile=JSON.parse(o.responseText),u.setSuccess(e.profile)):u.setError())},o.send(),u.promise},e.loadUserInfo=function(){var r=e.endpoints.userinfo(),o=new XMLHttpRequest;o.open("GET",r,!0),o.setRequestHeader("Accept","application/json"),o.setRequestHeader("Authorization","bearer "+e.token);var u=F();return o.onreadystatechange=function(){o.readyState==4&&(o.status==200?(e.userInfo=JSON.parse(o.responseText),u.setSuccess(e.userInfo)):u.setError())},o.send(),u.promise},e.isTokenExpired=function(r){if(!e.tokenParsed||!e.refreshToken&&e.flow!="implicit")throw"Not authenticated";if(e.timeSkew==null)return g("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var o=e.tokenParsed.exp-Math.ceil(new Date().getTime()/1e3)+e.timeSkew;if(r){if(isNaN(r))throw"Invalid minValidity";o-=r}return o<0},e.updateToken=function(r){var o=F();if(!e.refreshToken)return o.setError(),o.promise;r=r||5;var u=function(){var s=!1;if(r==-1?(s=!0,g("[KEYCLOAK] Refreshing token: forced refresh")):(!e.tokenParsed||e.isTokenExpired(r))&&(s=!0,g("[KEYCLOAK] Refreshing token: token expired")),!s)o.setSuccess(!1);else{var v="grant_type=refresh_token&refresh_token="+e.refreshToken,f=e.endpoints.token();if(a.push(o),a.length==1){var h=new XMLHttpRequest;h.open("POST",f,!0),h.setRequestHeader("Content-type","application/x-www-form-urlencoded"),h.withCredentials=!0,v+="&client_id="+encodeURIComponent(e.clientId);var x=new Date().getTime();h.onreadystatechange=function(){if(h.readyState==4)if(h.status==200){g("[KEYCLOAK] Token refreshed"),x=(x+new Date().getTime())/2;var _=JSON.parse(h.responseText);N(_.access_token,_.refresh_token,_.id_token,x),e.onAuthRefreshSuccess&&e.onAuthRefreshSuccess();for(var b=a.pop();b!=null;b=a.pop())b.setSuccess(!0)}else{A("[KEYCLOAK] Failed to refresh token"),h.status==400&&e.clearToken(),e.onAuthRefreshError&&e.onAuthRefreshError();for(var b=a.pop();b!=null;b=a.pop())b.setError(!0)}},h.send(v)}}};if(n.enable){var p=B();p.then(function(){u()}).catch(function(s){o.setError(s)})}else u();return o.promise},e.clearToken=function(){e.token&&(N(null,null,null),e.onAuthLogout&&e.onAuthLogout(),e.loginRequired&&e.login())};function R(){if(typeof e.authServerUrl<"u")return e.authServerUrl.charAt(e.authServerUrl.length-1)=="/"?e.authServerUrl+"realms/"+encodeURIComponent(e.realm):e.authServerUrl+"/realms/"+encodeURIComponent(e.realm)}function P(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function C(r,o){var u=r.code,p=r.error,s=r.prompt,v=new Date().getTime();if(r.kc_action_status&&e.onActionUpdate&&e.onActionUpdate(r.kc_action_status),p){if(s!="none"){var f={error:p,error_description:r.error_description};e.onAuthError&&e.onAuthError(f),o&&o.setError(f)}else o&&o.setSuccess();return}else e.flow!="standard"&&(r.access_token||r.id_token)&&b(r.access_token,null,r.id_token,!0);if(e.flow!="implicit"&&u){var h="code="+u+"&grant_type=authorization_code",x=e.endpoints.token(),_=new XMLHttpRequest;_.open("POST",x,!0),_.setRequestHeader("Content-type","application/x-www-form-urlencoded"),h+="&client_id="+encodeURIComponent(e.clientId),h+="&redirect_uri="+r.redirectUri,r.pkceCodeVerifier&&(h+="&code_verifier="+r.pkceCodeVerifier),_.withCredentials=!0,_.onreadystatechange=function(){if(_.readyState==4)if(_.status==200){var y=JSON.parse(_.responseText);b(y.access_token,y.refresh_token,y.id_token,e.flow==="standard"),J()}else e.onAuthError&&e.onAuthError(),o&&o.setError()},_.send(h)}function b(y,I,L,E){v=(v+new Date().getTime())/2,N(y,I,L,v),m&&(e.tokenParsed&&e.tokenParsed.nonce!=r.storedNonce||e.refreshTokenParsed&&e.refreshTokenParsed.nonce!=r.storedNonce||e.idTokenParsed&&e.idTokenParsed.nonce!=r.storedNonce)?(g("[KEYCLOAK] Invalid nonce, clearing token"),e.clearToken(),o&&o.setError()):E&&(e.onAuthSuccess&&e.onAuthSuccess(),o&&o.setSuccess())}}function M(r){var o=F(),u;t?typeof t=="string"&&(u=t):u="keycloak.json";function p(_){_?e.endpoints={authorize:function(){return _.authorization_endpoint},token:function(){return _.token_endpoint},logout:function(){if(!_.end_session_endpoint)throw"Not supported by the OIDC server";return _.end_session_endpoint},checkSessionIframe:function(){if(!_.check_session_iframe)throw"Not supported by the OIDC server";return _.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!_.userinfo_endpoint)throw"Not supported by the OIDC server";return _.userinfo_endpoint}}:e.endpoints={authorize:function(){return R()+"/protocol/openid-connect/auth"},token:function(){return R()+"/protocol/openid-connect/token"},logout:function(){return R()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var b=R()+"/protocol/openid-connect/login-status-iframe.html";return e.iframeVersion&&(b=b+"?version="+e.iframeVersion),b},thirdPartyCookiesIframe:function(){var b=R()+"/protocol/openid-connect/3p-cookies/step1.html";return e.iframeVersion&&(b=b+"?version="+e.iframeVersion),b},register:function(){return R()+"/protocol/openid-connect/registrations"},userinfo:function(){return R()+"/protocol/openid-connect/userinfo"}}}if(u){var s=new XMLHttpRequest;s.open("GET",u,!0),s.setRequestHeader("Accept","application/json"),s.onreadystatechange=function(){if(s.readyState==4)if(s.status==200||W(s)){var _=JSON.parse(s.responseText);e.authServerUrl=_["auth-server-url"],e.realm=_.realm,e.clientId=_.resource,p(null),o.setSuccess()}else o.setError()},s.send()}else{if(!t.clientId)throw"clientId missing";e.clientId=t.clientId;var v=t.oidcProvider;if(v)if(typeof v=="string"){var x;v.charAt(v.length-1)=="/"?x=v+".well-known/openid-configuration":x=v+"/.well-known/openid-configuration";var s=new XMLHttpRequest;s.open("GET",x,!0),s.setRequestHeader("Accept","application/json"),s.onreadystatechange=function(){if(s.readyState==4)if(s.status==200||W(s)){var b=JSON.parse(s.responseText);p(b),o.setSuccess()}else o.setError()},s.send()}else p(v),o.setSuccess();else{if(!t.url){for(var f=document.getElementsByTagName("script"),h=0;h<f.length;h++)if(f[h].src.match(/.*keycloak\.js/)){t.url=f[h].src.substr(0,f[h].src.indexOf("/js/keycloak.js"));break}}if(!t.realm)throw"realm missing";e.authServerUrl=t.url,e.realm=t.realm,p(null),o.setSuccess()}}return o.promise}function W(r){return r.status==0&&r.responseText&&r.responseURL.startsWith("file:")}function N(r,o,u,p){if(e.tokenTimeoutHandle&&(clearTimeout(e.tokenTimeoutHandle),e.tokenTimeoutHandle=null),o?(e.refreshToken=o,e.refreshTokenParsed=j(o)):(delete e.refreshToken,delete e.refreshTokenParsed),u?(e.idToken=u,e.idTokenParsed=j(u)):(delete e.idToken,delete e.idTokenParsed),r){if(e.token=r,e.tokenParsed=j(r),e.sessionId=e.tokenParsed.session_state,e.authenticated=!0,e.subject=e.tokenParsed.sub,e.realmAccess=e.tokenParsed.realm_access,e.resourceAccess=e.tokenParsed.resource_access,p&&(e.timeSkew=Math.floor(p/1e3)-e.tokenParsed.iat),e.timeSkew!=null&&(g("[KEYCLOAK] Estimated time difference between browser and server is "+e.timeSkew+" seconds"),e.onTokenExpired)){var s=(e.tokenParsed.exp-new Date().getTime()/1e3+e.timeSkew)*1e3;g("[KEYCLOAK] Token expires in "+Math.round(s/1e3)+" s"),s<=0?e.onTokenExpired():e.tokenTimeoutHandle=setTimeout(e.onTokenExpired,s)}}else delete e.token,delete e.tokenParsed,delete e.subject,delete e.realmAccess,delete e.resourceAccess,e.authenticated=!1}function j(r){switch(r=r.split(".")[1],r=r.replace(/-/g,"+"),r=r.replace(/_/g,"/"),r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw"Invalid token"}return r=decodeURIComponent(escape(atob(r))),r=JSON.parse(r),r}function q(){var r="0123456789abcdef",o=S(36,r).split("");o[14]="4",o[19]=r.substr(o[19]&3|8,1),o[8]=o[13]=o[18]=o[23]="-";var u=o.join("");return u}function X(r){var o=Q(r);if(o){var u=d.get(o.state);return u&&(o.valid=!0,o.redirectUri=u.redirectUri,o.storedNonce=u.nonce,o.prompt=u.prompt,o.pkceCodeVerifier=u.pkceCodeVerifier),o}}function Q(r){var o;switch(e.flow){case"standard":o=["code","state","session_state","kc_action_status"];break;case"implicit":o=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status"];break;case"hybrid":o=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status"];break}o.push("error"),o.push("error_description"),o.push("error_uri");var u=r.indexOf("?"),p=r.indexOf("#"),s,v;if(e.responseMode==="query"&&u!==-1?(s=r.substring(0,u),v=$(r.substring(u+1,p!==-1?p:r.length),o),v.paramsString!==""&&(s+="?"+v.paramsString),p!==-1&&(s+=r.substring(p))):e.responseMode==="fragment"&&p!==-1&&(s=r.substring(0,p),v=$(r.substring(p+1),o),v.paramsString!==""&&(s+="#"+v.paramsString)),v&&v.oauthParams){if(e.flow==="standard"||e.flow==="hybrid"){if((v.oauthParams.code||v.oauthParams.error)&&v.oauthParams.state)return v.oauthParams.newUrl=s,v.oauthParams}else if(e.flow==="implicit"&&(v.oauthParams.access_token||v.oauthParams.error)&&v.oauthParams.state)return v.oauthParams.newUrl=s,v.oauthParams}}function $(r,o){for(var u=r.split("&"),p={paramsString:"",oauthParams:{}},s=0;s<u.length;s++){var v=u[s].indexOf("="),f=u[s].slice(0,v);o.indexOf(f)!==-1?p.oauthParams[f]=u[s].slice(v+1):(p.paramsString!==""&&(p.paramsString+="&"),p.paramsString+=u[s])}return p}function F(){var r={setSuccess:function(o){r.resolve(o)},setError:function(o){r.reject(o)}};return r.promise=new Promise(function(o,u){r.resolve=o,r.reject=u}),r}function Z(r,o,u){var p=null,s=new Promise(function(v,f){p=setTimeout(function(){f({error:u||"Promise is not settled within timeout of "+o+"ms"})},o)});return Promise.race([r,s]).finally(function(){clearTimeout(p)})}function D(){var r=F();if(!n.enable||n.iframe)return r.setSuccess(),r.promise;var o=document.createElement("iframe");n.iframe=o,o.onload=function(){var s=e.endpoints.authorize();s.charAt(0)==="/"?n.iframeOrigin=P():n.iframeOrigin=s.substring(0,s.indexOf("/",8)),r.setSuccess()};var u=e.endpoints.checkSessionIframe();o.setAttribute("src",u),o.setAttribute("sandbox","allow-scripts allow-same-origin"),o.setAttribute("title","keycloak-session-iframe"),o.style.display="none",document.body.appendChild(o);var p=function(s){if(!(s.origin!==n.iframeOrigin||n.iframe.contentWindow!==s.source)&&(s.data=="unchanged"||s.data=="changed"||s.data=="error")){s.data!="unchanged"&&e.clearToken();for(var v=n.callbackList.splice(0,n.callbackList.length),f=v.length-1;f>=0;--f){var h=v[f];s.data=="error"?h.setError():h.setSuccess(s.data=="unchanged")}}};return window.addEventListener("message",p,!1),r.promise}function J(){n.enable&&e.token&&setTimeout(function(){B().then(function(r){r&&J()})},n.interval*1e3)}function B(){var r=F();if(n.iframe&&n.iframeOrigin){var o=e.clientId+" "+(e.sessionId?e.sessionId:"");n.callbackList.push(r);var u=n.iframeOrigin;n.callbackList.length==1&&n.iframe.contentWindow.postMessage(o,u)}else r.setSuccess();return r.promise}function ee(){var r=F();if(n.enable||e.silentCheckSsoRedirectUri){var o=document.createElement("iframe");o.setAttribute("src",e.endpoints.thirdPartyCookiesIframe()),o.setAttribute("sandbox","allow-scripts allow-same-origin"),o.setAttribute("title","keycloak-3p-check-iframe"),o.style.display="none",document.body.appendChild(o);var u=function(p){o.contentWindow===p.source&&(p.data!=="supported"&&p.data!=="unsupported"||(p.data==="unsupported"&&(A(`[KEYCLOAK] Your browser is blocking access to 3rd-party cookies, this means:

 - It is not possible to retrieve tokens without redirecting to the Keycloak server (a.k.a. no support for silent authentication).
 - It is not possible to automatically detect changes to the session status (such as the user logging out in another tab).

For more information see: https://www.keycloak.org/docs/latest/securing_apps/#_modern_browsers`),n.enable=!1,e.silentCheckSsoFallback&&(e.silentCheckSsoRedirectUri=!1)),document.body.removeChild(o),window.removeEventListener("message",u),r.setSuccess()))};window.addEventListener("message",u,!1)}else r.setSuccess();return Z(r.promise,e.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function z(r){if(!r||r=="default")return{login:function(f){return window.location.assign(e.createLoginUrl(f)),F().promise},logout:function(f){return window.location.replace(e.createLogoutUrl(f)),F().promise},register:function(f){return window.location.assign(e.createRegisterUrl(f)),F().promise},accountManagement:function(){var f=e.createAccountUrl();if(typeof f<"u")window.location.href=f;else throw"Not supported by the OIDC server";return F().promise},redirectUri:function(f,h){return f&&f.redirectUri?f.redirectUri:e.redirectUri?e.redirectUri:location.href}};if(r=="cordova"){n.enable=!1;var o=function(f,h,x){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(f,h,x):window.open(f,h,x)},u=function(f){return f&&f.cordovaOptions?Object.keys(f.cordovaOptions).reduce(function(h,x){return h[x]=f.cordovaOptions[x],h},{}):{}},p=function(f){return Object.keys(f).reduce(function(h,x){return h.push(x+"="+f[x]),h},[]).join(",")},s=function(f){var h=u(f);return h.location="no",f&&f.prompt=="none"&&(h.hidden="yes"),p(h)},v=e.redirectUri||"http://localhost";return{login:function(f){var h=F(),x=s(f),_=e.createLoginUrl(f),b=o(_,"_blank",x),y=!1,I=!1,L=function(){I=!0,b.close()};return b.addEventListener("loadstart",function(E){if(E.url.indexOf(v)==0){var O=X(E.url);C(O,h),L(),y=!0}}),b.addEventListener("loaderror",function(E){if(!y)if(E.url.indexOf(v)==0){var O=X(E.url);C(O,h),L(),y=!0}else h.setError(),L()}),b.addEventListener("exit",function(E){I||h.setError({reason:"closed_by_user"})}),h.promise},logout:function(f){var h=F(),x=e.createLogoutUrl(f),_=o(x,"_blank","location=no,hidden=yes,clearcache=yes"),b;return _.addEventListener("loadstart",function(y){y.url.indexOf(v)==0&&_.close()}),_.addEventListener("loaderror",function(y){y.url.indexOf(v)==0||(b=!0),_.close()}),_.addEventListener("exit",function(y){b?h.setError():(e.clearToken(),h.setSuccess())}),h.promise},register:function(f){var h=F(),x=e.createRegisterUrl(),_=s(f),b=o(x,"_blank",_);return b.addEventListener("loadstart",function(y){if(y.url.indexOf(v)==0){b.close();var I=X(y.url);C(I,h)}}),h.promise},accountManagement:function(){var f=e.createAccountUrl();if(typeof f<"u"){var h=o(f,"_blank","location=no");h.addEventListener("loadstart",function(x){x.url.indexOf(v)==0&&h.close()})}else throw"Not supported by the OIDC server"},redirectUri:function(f){return v}}}if(r=="cordova-native")return n.enable=!1,{login:function(f){var h=F(),x=e.createLoginUrl(f);return universalLinks.subscribe("keycloak",function(_){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var b=X(_.url);C(b,h)}),window.cordova.plugins.browsertab.openUrl(x),h.promise},logout:function(f){var h=F(),x=e.createLogoutUrl(f);return universalLinks.subscribe("keycloak",function(_){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),e.clearToken(),h.setSuccess()}),window.cordova.plugins.browsertab.openUrl(x),h.promise},register:function(f){var h=F(),x=e.createRegisterUrl(f);return universalLinks.subscribe("keycloak",function(_){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var b=X(_.url);C(b,h)}),window.cordova.plugins.browsertab.openUrl(x),h.promise},accountManagement:function(){var f=e.createAccountUrl();if(typeof f<"u")window.cordova.plugins.browsertab.openUrl(f);else throw"Not supported by the OIDC server"},redirectUri:function(f){return f&&f.redirectUri?f.redirectUri:e.redirectUri?e.redirectUri:"http://localhost"}};throw"invalid adapter type: "+r}var Y=function(){if(!(this instanceof Y))return new Y;localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test");var r=this;function o(){for(var u=new Date().getTime(),p=0;p<localStorage.length;p++){var s=localStorage.key(p);if(s&&s.indexOf("kc-callback-")==0){var v=localStorage.getItem(s);if(v)try{var f=JSON.parse(v).expires;(!f||f<u)&&localStorage.removeItem(s)}catch{localStorage.removeItem(s)}}}}r.get=function(u){if(u){var p="kc-callback-"+u,s=localStorage.getItem(p);return s&&(localStorage.removeItem(p),s=JSON.parse(s)),o(),s}},r.add=function(u){o();var p="kc-callback-"+u.state;u.expires=new Date().getTime()+60*60*1e3,localStorage.setItem(p,JSON.stringify(u))}},V=function(){if(!(this instanceof V))return new V;var r=this;r.get=function(s){if(s){var v=u("kc-callback-"+s);if(p("kc-callback-"+s,"",o(-100)),v)return JSON.parse(v)}},r.add=function(s){p("kc-callback-"+s.state,JSON.stringify(s),o(60))},r.removeItem=function(s){p(s,"",o(-100))};var o=function(s){var v=new Date;return v.setTime(v.getTime()+s*60*1e3),v},u=function(s){for(var v=s+"=",f=document.cookie.split(";"),h=0;h<f.length;h++){for(var x=f[h];x.charAt(0)==" ";)x=x.substring(1);if(x.indexOf(v)==0)return x.substring(v.length,x.length)}return""},p=function(s,v,f){var h=s+"="+v+"; expires="+f.toUTCString()+"; ";document.cookie=h}};function re(){try{return new Y}catch{}return new V}function G(r){return function(){e.enableLogging&&r.apply(console,Array.prototype.slice.call(arguments))}}}let keycloak;const init=async()=>{keycloak=new Keycloak({url:"https://auth.ub.unibas.ch",realm:"test",clientId:"graphql-demo"});try{await keycloak.init({onLoad:"login-required",checkLoginIframe:!1}),await keycloak.loadUserProfile(),profile.set(keycloak.profile),token.set(keycloak.token)}catch(t){console.error("Failed to initialize adapter:",t)}};function create_else_block(t){let e,l="not authorized";return{c(){e=element("div"),e.textContent=l},l(a){e=claim_element(a,"DIV",{"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-1sohli"&&(e.textContent=l)},m(a,d){insert_hydration(a,e,d)},p:noop,i:noop,o:noop,d(a){a&&detach(e)}}}function create_if_block(t){let e,l="logout",a,d,n,k;const c=t[2].default,m=create_slot(c,t,t[1],null);return{c(){e=element("button"),e.textContent=l,a=space(),m&&m.c()},l(g){e=claim_element(g,"BUTTON",{"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-laqeei"&&(e.textContent=l),a=claim_space(g),m&&m.l(g)},m(g,A){insert_hydration(g,e,A),insert_hydration(g,a,A),m&&m.m(g,A),d=!0,n||(k=listen(e,"click",t[3]),n=!0)},p(g,A){m&&m.p&&(!d||A&2)&&update_slot_base(m,c,g,g[1],d?get_slot_changes(c,g[1],A,null):get_all_dirty_from_scope(g[1]),null)},i(g){d||(transition_in(m,g),d=!0)},o(g){transition_out(m,g),d=!1},d(g){g&&(detach(e),detach(a)),m&&m.d(g),n=!1,k()}}}function create_fragment(t){let e,l='<a href="/cmd/clerk/ui/static">Home</a> <a href="/about">About</a> <a href="/graphql">GraphQL</a>',a,d,n,k,c;const m=[create_if_block,create_else_block],g=[];function A(w,H){return w[0]?0:1}return d=A(t),n=g[d]=m[d](t),{c(){e=element("nav"),e.innerHTML=l,a=space(),n.c(),k=empty()},l(w){e=claim_element(w,"NAV",{"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-1jeigj4"&&(e.innerHTML=l),a=claim_space(w),n.l(w),k=empty()},m(w,H){insert_hydration(w,e,H),insert_hydration(w,a,H),g[d].m(w,H),insert_hydration(w,k,H),c=!0},p(w,[H]){let S=d;d=A(w),d===S?g[d].p(w,H):(group_outros(),transition_out(g[S],1,1,()=>{g[S]=null}),check_outros(),n=g[d],n?n.p(w,H):(n=g[d]=m[d](w),n.c()),transition_in(n,1),n.m(k.parentNode,k))},i(w){c||(transition_in(n),c=!0)},o(w){transition_out(n),c=!1},d(w){w&&(detach(e),detach(a),detach(k)),g[d].d(w)}}}function instance(t,e,l){let a;component_subscribe(t,profile,c=>l(0,a=c));let{$$slots:d={},$$scope:n}=e;onMount(async()=>await init());const k=()=>keycloak.logout();return t.$$set=c=>{"$$scope"in c&&l(1,n=c.$$scope)},[a,n,d,k]}class Layout extends SvelteComponent{constructor(e){super(),init$1(this,e,instance,create_fragment,safe_not_equal,{})}}export{Layout as component};
